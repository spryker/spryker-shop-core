{% extends atom('node') %}

{% set config = {
    name: 'navigation-node',
    tag: 'li'
} | merge(config | default({})) %}

{% block body %}
    {{ parent() }}

    <ul class="menu">
        {% for childNode in data.node.children %}
            {% set hasChildren = childNode.children | length > 0 %}

            {% include molecule('navigation-node') with {
                class: 'menu__item' ~ (hasChildren ? ' menu__item--has-children-list' : ''),
                data: {
                    node: childNode
                }
            } only %}
        {% endfor %}
    </ul>
{% endblock %}

{% block url %}
    <a href="{{ data.node.url }}">{{ data.node.title }}</a>
{% endblock %}

{% block link %}
    <a href="{{ data.node.url }}">{{ data.node.title }}</a>
{% endblock %}

{% block externalUrl %}
    <a href="{{ data.node.url }}" target="_blank">{{ data.node.title }}</a>
{% endblock %}

{% block other %}
    {{ data.node.title }}
{% endblock %}

