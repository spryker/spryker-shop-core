{# @var data.servicePoint \Generated\Shared\Transfer\ServicePointTransfer #}
{# @var data.servicePoint.address \Generated\Shared\Transfer\ServicePointAddressTransfer #}

{% extends model('component') %}

{% define config = {
    name: 'service-point',
} %}

{% define data = {
    servicePoint: required,
} %}

{% set address = data.servicePoint.address %}
{% set formattedAddress = [address.address1, address.address2, address.address3] | filter(address => address) | join(' ') %}
{% set fullAddress = formattedAddress ~ ', ' ~ address.zipCode ~ ' ' ~ address.city %}

{% block body %}
    {% block name %}
        <div class="{{ config.name }}__name">
            {{ data.servicePoint.name }}
        </div>
    {% endblock %}

    {% block address %}
        <address class="{{ config.name }}__address">
            {{ fullAddress }}
        </address>
    {% endblock %}

    {% block actions %}
        <div class="{{ config.name }}__actions">
            <button type="button"
                    class="button {{ config.jsName }}__select-button"
                    data-service-point-uuid="{{ data.servicePoint.uuid }}"
                    data-service-point-address="{{ data.servicePoint.name }} {{ fullAddress }}">
                {{ 'service_point_widget.select_store_action' | trans }}
            </button>
        </div>
    {% endblock %}
{% endblock %}
