{% extends model('component') %}

{% define config = {
    name: 'review-average-display',
    tag: 'section'
} %}

{% define data = {
    summary: required,
    ratingMaxValue: required
} %}

{% block body %}
    {% include molecule('rating-selector', 'ProductReviewWidget') with {
        class: 'spacing-right',
        data: {
            value: data.summary.averageRating,
            maxValue: data.ratingMaxValue,
            useHalfSteps: true
        },
        attributes: {
            readonly: true
        }
    } only %}

    {% if data.summary.totalReview > 0 %}
        <strong>{{ data.summary.averageRating }}</strong> {{ 'product_review.summary.out_of' | trans }}
        {{ data.summary.maximumRating }} {{ 'product_review.summary.stars' | trans }}
        (
            {{- data.summary.totalReview }}

        {% set number = data.summary.totalReview > 1 ? 'many' : data.summary.totalReview %}

        {{ number | trans({
            '1' : 'product_review.summary.review' | trans,
            'many': 'product_review.summary.reviews' | trans,
        }) -}}
        )
    {% else %}
        {{ 'product_review.no_reviews' | trans }}
    {% endif %}
{% endblock %}
