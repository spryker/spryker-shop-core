{% extends model('component') %}
{% import model('component') as component %}

{% define config = {
    name: 'password-field',
    tag: 'password-field',
} %}

{% define data = {
    inputAttributes: {},
    inputExtraClasses: '',
    showVisibilitySwitcher: true,
} %}

{% define attributes = {
    'button-class-name': 'js-' ~ config.name ~ '__button',
    'button-toggle-class-name': config.name ~ '__button--shown',
} %}

{% block body %}
    <input
        type="password"
        class="{{ config.name }}__input {{ config.jsName }}__input {{ data.inputExtraClasses }}"
        {{- component.renderAttributes(data.inputAttributes) -}}
    >

    {% block button %}
        {% if data.showVisibilitySwitcher %}
            <button class="{{ config.name }}__button {{ config.jsName }}__button" type="button">
                {% block showIcon %}
                    {% include atom('icon') with {
                        class: config.name ~ '__icon-show',
                        data: {
                            name: 'visible',
                        },
                    } only %}
                {% endblock %}

                {% block hideIcon %}
                    {% include atom('icon') with {
                        class: config.name ~ '__icon-hide',
                        data: {
                            name: 'invisible',
                        },
                    } only %}
                {% endblock %}
            </button>
        {% endif %}
    {% endblock %}
{% endblock %}
