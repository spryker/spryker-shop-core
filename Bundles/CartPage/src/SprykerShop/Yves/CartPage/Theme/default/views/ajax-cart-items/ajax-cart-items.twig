{% extends template('widget') %}

{% define data = {
    cart: _view.cart,
    cartItems: _view.cartItems,
    isQuoteEditable: _view.isQuoteEditable,
    attributes: _view.attributes,
    ajaxTriggerAttribute: _view.isCartActionsAsyncModeEnabled ? 'data-cart-ajax-form-submitter' : null,
} %}

{% block body %}
    {% block cartItemsList %}
        {% include molecule('product-cart-items-list', 'CartPage') with {
            data: {
                cart: data.cart,
                cartItems: data.cartItems,
                isQuoteEditable: data.isQuoteEditable,
                attributes: data.attributes,
                ajaxTriggerAttribute: data.ajaxTriggerAttribute,
            },
        } only %}
    {% endblock %}

    {% block formSubmitter %}
        {% include molecule('form-submitter') with {
            attributes: {
                'trigger-selector': '[data-cart-form-submitter]',
            },
        } only %}
    {% endblock %}
{% endblock %}
